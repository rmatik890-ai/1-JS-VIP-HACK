<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sakib Team - 30s Hack</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #00ffc8;
      --secondary-color: #00b3ff;
      --glass-bg: rgba(20, 20, 20, 0.95);
      --glass-border: rgba(255, 255, 255, 0.1);
      --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
    }

    body {
      margin: 0; padding: 0;
      font-family: 'Outfit', sans-serif;
      background-color: #050505;
      color: #ffffff;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    /* Background Animation */
    body::before, body::after {
      content: '';
      position: fixed;
      width: 300px; height: 300px;
      border-radius: 50%;
      background: var(--primary-color);
      filter: blur(120px);
      opacity: 0.15;
      z-index: -1;
      animation: float 10s infinite alternate;
    }
    body::after { bottom: -50px; right: -50px; background: var(--secondary-color); animation-delay: -5s; }
    
    @keyframes float {
      0% { transform: translate(0, 0); }
      100% { transform: translate(30px, 30px); }
    }

    .container {
      padding: 20px;
      max-width: 480px;
      margin: 0 auto;
      z-index: 1;
      position: relative;
    }
    .hidden { display: none !important; }

    /* --- Logo System --- */
    .app-logo-container { text-align: center; margin-bottom: 20px; }
    .app-logo {
      width: 110px; height: 110px;
      border-radius: 50%;
      border: 3px solid var(--primary-color);
      padding: 5px;
      background: rgba(0,0,0,0.5);
      box-shadow: 0 0 30px rgba(0,255,200, 0.3);
      object-fit: cover;
      animation: logoPulse 4s infinite ease-in-out;
    }
    @keyframes logoPulse {
      0%, 100% { box-shadow: 0 0 25px var(--primary-color); transform: scale(1); }
      50% { box-shadow: 0 0 50px var(--primary-color); transform: scale(1.05); }
    }

    /* --- Glass Cards --- */
    .auth-card, .card, .locked-box {
      background: var(--glass-bg);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid var(--glass-border);
      border-radius: 20px;
      padding: 25px;
      box-shadow: var(--shadow);
      margin-bottom: 20px;
      transition: 0.3s;
    }

    /* --- DYNAMIC LIGHTING ANIMATION --- */
    .glow-wrapper {
      position: relative;
      padding: 3px;
      border-radius: 24px;
      background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
      background-size: 400%;
      animation: glowing 10s linear infinite;
      margin-bottom: 20px;
    }
    .glow-wrapper::before {
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      border-radius: 24px;
      background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
      background-size: 400%;
      z-index: -1;
      filter: blur(20px);
      opacity: 0.8;
      animation: glowing 10s linear infinite;
    }
    @keyframes glowing {
      0% { background-position: 0 0; }
      50% { background-position: 400% 0; }
      100% { background-position: 0 0; }
    }

    /* Inputs & Buttons */
    input {
      width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(0,0,0,0.4);
      color: #fff; font-family: 'Outfit', sans-serif;
      box-sizing: border-box; outline: none;
    }
    input:focus { border-color: var(--primary-color); box-shadow: 0 0 10px rgba(0, 255, 200, 0.2); }
    
    .btn {
      width: 100%; padding: 15px; border: none; border-radius: 12px;
      background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
      color: #000; font-weight: 800; text-transform: uppercase; letter-spacing: 1px;
      cursor: pointer; margin-top: 15px; font-size: 16px; 
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.4);
    }
    .switch-link { text-align: center; margin-top: 15px; color: #ccc; font-size: 14px; cursor: pointer; }
    .switch-link span { color: var(--primary-color); text-decoration: underline; }

    /* --- Dashboard --- */
    .header-title { 
      text-align: center; margin-bottom: 20px; color: #fff; 
      font-size: 24px; font-weight: 900; letter-spacing: 2px;
      text-shadow: 0 0 10px var(--primary-color);
    }

    /* --- NEW 30s Signal Box Design --- */
    .signal-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 10px;
        background: #0a0a0a;
        border-radius: 20px;
        height: 100%;
        position: relative;
        z-index: 2;
    }

    /* 1. Profile Name */
    .profile-info {
        display: flex;
        align-items: center;
        gap: 10px;
        background: rgba(255,255,255,0.05);
        padding: 5px 15px;
        border-radius: 50px;
        border: 1px solid rgba(255,255,255,0.1);
        margin-top: 10px;
    }
    .profile-img-small {
        width: 30px; height: 30px; border-radius: 50%;
        border: 2px solid var(--primary-color);
    }
    .profile-name-text {
        font-size: 14px; font-weight: bold; color: #fff;
    }

    /* 2. Hack Name */
    .hack-title {
        color: var(--secondary-color);
        font-weight: 900;
        font-size: 22px;
        letter-spacing: 2px;
        text-shadow: 0 0 10px rgba(0, 179, 255, 0.5);
        margin-top: 5px;
    }

    /* 3. Period Number */
    .period-display {
        font-family: monospace;
        font-size: 20px;
        font-weight: bold;
        color: #ffd700;
        background: rgba(0,0,0,0.6);
        padding: 8px 15px;
        border-radius: 8px;
        letter-spacing: 1px;
        border: 1px solid #ffd700;
        box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
    }

    /* 4. Seconds (Timer) */
    .timer-circle {
        width: 100px; height: 100px;
        border-radius: 50%;
        border: 5px solid var(--primary-color);
        display: flex; align-items: center; justify-content: center;
        font-size: 42px; font-weight: 900;
        color: #fff;
        background: radial-gradient(circle, rgba(0,255,200,0.2) 0%, rgba(0,0,0,0) 70%);
        box-shadow: 0 0 30px rgba(0,255,200, 0.4);
        margin: 10px 0;
    }
    .timer-circle.urgent { border-color: #ff4c4c; color: #ff4c4c; box-shadow: 0 0 30px rgba(255,76,76,0.6); }

    /* 5. Big/Small Result */
    .result-box {
        font-size: 52px;
        font-weight: 900;
        text-transform: uppercase;
        margin-top: 5px;
        padding: 15px 50px;
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 15px;
        min-width: 200px;
        margin-bottom: 20px;
    }
    .result-big { color: #00ffc8; text-shadow: 0 0 30px #00ffc8; border-color: #00ffc8; }
    .result-small { color: #00b3ff; text-shadow: 0 0 30px #00b3ff; border-color: #00b3ff; }
    
    @keyframes popIn {
        0% { transform: scale(0.5); opacity: 0; }
        70% { transform: scale(1.1); }
        100% { transform: scale(1); opacity: 1; }
    }

    /* Floating TG */
    .telegram-button {
      position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px;
      background: #0088cc; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      box-shadow: 0 0 20px #0088cc; animation: pulse 2s infinite; z-index: 1000;
    }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(0,136,204, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(0,136,204, 0); } }
  </style>
</head>
<body>

  <!-- 1. Login Section -->
  <div id="loginSection" class="container">
    <div class="app-logo-container">
        <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="app-logo" id="loginLogo">
    </div>
    <div class="header-title app-name">LOGIN</div>
    <div class="auth-card">
      <input type="number" id="loginPhone" placeholder="Phone Number">
      <input type="password" id="loginPass" placeholder="Password">
      <button class="btn" onclick="handleLogin()">Login Now</button>
      <div class="switch-link" onclick="showRegister()">New User? <span>Register</span></div>
    </div>
  </div>

  <!-- 2. Register Section -->
  <div id="registerSection" class="container hidden">
    <div class="app-logo-container">
        <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="app-logo" id="regLogo">
    </div>
    <div class="header-title app-name">REGISTER</div>
    <div class="auth-card">
      <input type="text" id="regName" placeholder="Full Name">
      <input type="number" id="regPhone" placeholder="Phone Number">
      <input type="password" id="regPass" placeholder="Password">
      <button class="btn" onclick="handleRegister()">Create Account</button>
      <div class="switch-link" onclick="showLogin()">Have an account? <span>Login</span></div>
    </div>
  </div>

  <!-- 3. Dashboard Section -->
  <div id="dashboardSection" class="container hidden">
    
    <!-- Navbar with Logout -->
    <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
      <button onclick="handleLogout()" style="background: rgba(255, 76, 76, 0.2); border:1px solid #ff4c4c; color:#ff4c4c; padding: 4px 12px; border-radius: 8px; font-weight:bold; cursor:pointer; font-size: 12px;">LOGOUT</button>
    </div>

    <!-- LOCKED VIEW -->
    <div id="lockedView" class="hidden">
      <div class="locked-box">
        <div class="app-logo-container"><img src="" class="app-logo" id="lockedLogo" style="width:80px; height:80px;"></div>
        <h2 style="color:#ff4c4c; margin-top:0; text-align:center;">üîí PREMIUM ACCESS</h2>
        <p style="color:#ccc; font-size:14px; text-align:center;">To see signals, register via our link & submit screenshot.</p>
        <a href="#" id="refLinkBtn" target="_blank" class="btn" style="display:block; text-decoration:none; line-height:20px; margin-bottom:15px; background: #fff; color: #000; text-align:center;">üîó REGISTER HERE</a>
        
        <div id="submissionForm">
            <input type="text" id="submitUid" placeholder="Enter Game UID">
            <div style="text-align: left; margin-top:10px;">
                <label style="color:#aaa; font-size:12px;">Upload Payment/Deposit Proof:</label>
                <input type="file" id="proofFile" accept="image/*">
            </div>
            <button class="btn" onclick="submitVerification()">SUBMIT</button>
        </div>

        <div id="pendingMessage" class="hidden" style="text-align:center;">
            <p style="color:orange; font-weight:bold; font-size:18px;">‚è≥ PENDING APPROVAL</p>
            <p style="font-size:12px; color:#aaa;">Admin is checking your screenshot.</p>
        </div>
      </div>
    </div>

    <!-- BANNED VIEW -->
    <div id="bannedView" class="hidden">
      <div class="locked-box" style="border-color: red; text-align:center;">
        <h2 style="color:red">üö´ BANNED</h2>
        <p>Contact Support.</p>
      </div>
    </div>

    <!-- ACTIVE VIEW (The Main Hack Interface) -->
    <div id="activeView" class="hidden">
      
      <!-- WRAPPER FOR DYNAMIC LIGHTING -->
      <div class="glow-wrapper">
          <!-- Main Signal Card -->
          <div class="card signal-container">
              
              <!-- 1. Name Profile -->
              <div class="profile-info">
                  <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" id="dashLogo" class="profile-img-small">
                  <span class="profile-name-text" id="userNameDisplay">User</span>
              </div>

              <!-- 2. Hack Name -->
              <div class="hack-title app-name">SAKIB TEAM</div>

              <!-- 3. Period Number (Updated) -->
              <div class="period-display" id="autoPeriod">Loading...</div>

              <!-- 4. Seconds (30s Countdown) -->
              <div class="timer-circle" id="timer30s">30</div>

              <!-- 5. Big/Small Result -->
              <div class="result-box" id="predictionResult">WAIT</div>

          </div>
      </div>

     

  </div>

  <!-- Telegram Button -->
  <a href="#" id="tgLink" target="_blank" class="telegram-button">
    <img src="https://cdn-icons-png.flaticon.com/512/2111/2111646.png" style="width:55%; filter: drop-shadow(0 0 2px rgba(0,0,0,0.5));">
  </a>

  <!-- Firebase Logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } 
      from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
    import { getDatabase, ref, set, onValue, update } 
      from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCUAlNk4vKm9EsfXD6Laps4URU3hsD8MYU",
  authDomain: "bdthack-b1c59.firebaseapp.com",
  databaseURL: "https://bdthack-b1c59-default-rtdb.firebaseio.com",
  projectId: "bdthack-b1c59",
  storageBucket: "bdthack-b1c59.firebasestorage.app",
  messagingSenderId: "54831055352",
  appId: "1:54831055352:web:e6222630876fe4cd8ed60d",
  measurementId: "G-K1GR4LCYM5"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getDatabase(app);

    // --- UI Helpers ---
    window.showRegister = () => {
      document.getElementById('loginSection').classList.add('hidden');
      document.getElementById('registerSection').classList.remove('hidden');
    };
    window.showLogin = () => {
      document.getElementById('registerSection').classList.add('hidden');
      document.getElementById('loginSection').classList.remove('hidden');
    };

    // --- Auth Logic ---
    window.handleRegister = () => {
      const name = document.getElementById('regName').value;
      const phone = document.getElementById('regPhone').value;
      const pass = document.getElementById('regPass').value;
      if(!name || !phone || !pass) return alert("Please fill all fields");
      const email = phone + "@sakibteam.com"; 

      createUserWithEmailAndPassword(auth, email, pass)
        .then((userCredential) => {
          const user = userCredential.user;
          set(ref(db, 'users/' + user.uid), {
            username: name, phone: phone, password: pass, status: 'locked', uid: user.uid
          });
          alert("Success! Please Login.");
          showLogin();
        })
        .catch((e) => alert(e.message));
    };

    window.handleLogin = () => {
      const phone = document.getElementById('loginPhone').value;
      const pass = document.getElementById('loginPass').value;
      const email = phone + "@sakibteam.com";
      signInWithEmailAndPassword(auth, email, pass).catch(() => alert("Login Failed: Check Credentials"));
    };

    window.handleLogout = () => { signOut(auth); location.reload(); };

    onAuthStateChanged(auth, (user) => {
      if (user) {
        document.getElementById('loginSection').classList.add('hidden');
        document.getElementById('registerSection').classList.add('hidden');
        document.getElementById('dashboardSection').classList.remove('hidden');
        
        loadAppSettings(); 

        onValue(ref(db, 'users/' + user.uid), (snapshot) => {
          const data = snapshot.val();
          if(data) {
            document.getElementById('userNameDisplay').innerText = data.username;
            updateUserInterface(data);
          }
        });
      } else {
        document.getElementById('dashboardSection').classList.add('hidden');
        document.getElementById('loginSection').classList.remove('hidden');
        loadAppSettings(); 
      }
    });

    // --- Load Settings ---
    function loadAppSettings() {
      onValue(ref(db, 'settings'), (snapshot) => {
        const data = snapshot.val();
        if(data) {
          if(data.siteName) {
            document.querySelectorAll('.app-name').forEach(el => el.innerText = data.siteName);
            document.title = data.siteName;
          }
          if(data.primaryColor) document.documentElement.style.setProperty('--primary-color', data.primaryColor);
          if(data.refLink) document.getElementById('refLinkBtn').href = data.refLink;
          if(data.tgLink) document.getElementById('tgLink').href = data.tgLink;
          
          if(data.logoUrl) {
              document.getElementById('loginLogo').src = data.logoUrl;
              document.getElementById('regLogo').src = data.logoUrl;
              document.getElementById('dashLogo').src = data.logoUrl;
              document.getElementById('lockedLogo').src = data.logoUrl;
          }

          const lastNotice = localStorage.getItem('lastNotice');
          if(data.notice && data.notice !== "" && data.notice !== lastNotice) {
            alert("üì¢ NOTICE: " + data.notice);
            localStorage.setItem('lastNotice', data.notice);
          }
        }
      });
    }

    function updateUserInterface(userData) {
      const locked = document.getElementById('lockedView');
      const active = document.getElementById('activeView');
      const banned = document.getElementById('bannedView');
      
      locked.classList.add('hidden'); active.classList.add('hidden'); banned.classList.add('hidden');

      if (userData.status === 'banned') {
        banned.classList.remove('hidden');
      } else if (userData.status === 'active') {
        active.classList.remove('hidden');
        start30sSystem(); // Start the 30s logic
      } else {
        locked.classList.remove('hidden');
        if(userData.verification_status === 'pending') {
            document.getElementById('pendingMessage').classList.remove('hidden');
            document.getElementById('submissionForm').classList.add('hidden');
        } else {
            document.getElementById('pendingMessage').classList.add('hidden');
            document.getElementById('submissionForm').classList.remove('hidden');
        }
      }
    }

    window.submitVerification = () => {
      const user = auth.currentUser;
      const gameUid = document.getElementById('submitUid').value;
      const fileInput = document.getElementById('proofFile');
      if(!gameUid || fileInput.files.length === 0) return alert("Enter UID & Upload Screenshot");
      const file = fileInput.files[0];
      const reader = new FileReader();
      reader.onloadend = function() {
          update(ref(db, 'users/' + user.uid), {
            game_uid: gameUid, deposit_proof: reader.result, verification_status: 'pending'
          }).then(() => alert("Submitted! Wait for Admin Approval."));
      }
      reader.readAsDataURL(file);
    };

    // ==========================================
    //  ‚ö°Ô∏è 30 SECOND HACK LOGIC (ADJUSTED)
    // ==========================================
    
    let systemInterval;

    function start30sSystem() {
        if(systemInterval) return;
        runTimerLogic();    // Run immediately
        systemInterval = setInterval(runTimerLogic, 1000); // Loop every second
    }

    function runTimerLogic() {
        const now = new Date();
        const seconds = now.getSeconds();
        const minutes = now.getMinutes();
        const hours = now.getHours();
        
        // --- 1. Calculate Period Number ---
        // Logic for 3:19 PM -> 51119 (Target)
        // Formula: (TotalMinutes * 2) - 719 (Offset calculated from your data)
        // 15:19 -> 919 mins -> 1838 -> 1838 - 719 = 1119
        // Add fixed '5' at start -> 51119
        
        const totalMinutesPassed = (hours * 60) + minutes;
        let calculatedSequence = (totalMinutesPassed * 2) - 719; 
        
        // If we are in the second half of the minute (30s+), increment by 1
        if (seconds >= 30) {
            calculatedSequence += 1;
        }

        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        
        // Ensure Sequence is padded to 4 digits (e.g., 1119) and prepend '5'
        const sequencePadded = String(calculatedSequence).padStart(4, '0'); 
        
        // Full String: YYYYMMDD + 1000 + 5 + Sequence
        // At 3:19 PM this generates: ...100051119 (Last 5 digits: 51119)
        const periodString = `${year}${month}${day}10005${sequencePadded}`;
        
        document.getElementById('autoPeriod').innerText = periodString;

        // --- 2. Calculate 30s Timer ---
        let remaining = 30 - (seconds % 30);
        
        const timerEl = document.getElementById('timer30s');
        timerEl.innerText = remaining;

        if (remaining <= 5) {
            timerEl.classList.add('urgent');
        } else {
            timerEl.classList.remove('urgent');
        }

        // --- 3. Generate Signal on Reset ---
        const resultEl = document.getElementById('predictionResult');
        
        if (remaining === 30 || resultEl.innerText === "WAIT") {
            const outcomes = ["BIG", "SMALL"];
            const randomPick = outcomes[Math.floor(Math.random() * outcomes.length)];
            
            resultEl.innerText = randomPick;
            
            resultEl.className = "result-box"; 
            if(randomPick === "BIG") {
                resultEl.classList.add("result-big");
            } else {
                resultEl.classList.add("result-small");
            }
            
            resultEl.style.animation = 'none';
            resultEl.offsetHeight; 
            resultEl.style.animation = 'popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
        }
    }
  </script>
</body>
</html>
